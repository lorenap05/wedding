<section class="rsvp-page">
  <div class="rsvp-container">
    <header class="rsvp-header">
      <h1>Confirmar presença</h1>
    </header>

    <div class="rsvp-form">
      <p>Ficaremos muito felizes em saber se você poderá estar conosco neste dia especial.</p>
      <p>Gentileza submeter um nome de convidado por vez.</p>

      <iframe
        data-tally-src="https://tally.so/embed/vGA0xl?alignLeft=1&hideTitle=1&dynamicHeight=1"
        loading="lazy"
        width="100%"
        height="300"
        frameborder="0"
        marginheight="0"
        marginwidth="0"
        title="Confirmar presença"
        style="border: none; display: block;"
      ></iframe>
      <script>var d=document,w="https://tally.so/widgets/embed.js",v=function(){"undefined"!=typeof Tally?Tally.loadEmbeds():d.querySelectorAll("iframe[data-tally-src]:not([src])").forEach((function(e){e.src=e.dataset.tallySrc}))};if("undefined"!=typeof Tally)v();else if(d.querySelector('script[src="'+w+'"]')==null){var s=d.createElement("script");s.src=w;s.onload=v;s.onerror=v;d.body.appendChild(s);}</script>
    </div>
  </div>
</section>

<div class="gift-modal" id="rsvp-thanks-modal" aria-hidden="true" data-open-on-load="<%= params[:show_thanks] == "1" %>">
  <div class="gift-modal-backdrop js-close-rsvp-thanks"></div>
  <div class="gift-modal-card" role="dialog" aria-modal="true" aria-labelledby="rsvp-thanks-modal-title">
    <button type="button" class="gift-modal-close js-close-rsvp-thanks" aria-label="Fechar">×</button>
    <h2 id="rsvp-thanks-modal-title">Obrigado(a)!</h2>
    <p class="gift-modal-text">Recebemos sua resposta</p>
    <img src="/wedding/thank_you_2.jpg" alt="Obrigado" class="gift-modal-thank-image" loading="lazy" onerror="this.onerror=null;this.src='/assets/wedding/thank_you.jpg';">
  </div>
</div>

<script>
  (function() {
    const thanksModal = document.getElementById('rsvp-thanks-modal');
    if (!thanksModal) return;
    const closeThanksButtons = document.querySelectorAll('.js-close-rsvp-thanks');
    function openModal(modal) { modal.classList.add('active'); modal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; }
    function closeModal(modal) { modal.classList.remove('active'); modal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }
    closeThanksButtons.forEach(function(btn){ btn.addEventListener('click', function(){ closeModal(thanksModal); }); });
    if (thanksModal.dataset.openOnLoad === 'true') openModa