<!DOCTYPE html>
<html>
  <head>
    <title>Casamento Lukas e Lorena</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pinyon+Script&family=Cormorant+Garamond:wght@400;500;600&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  </head>

  <body class="page-<%= controller_name %>-<%= action_name %>">
    <header class="fixed-header">
      <button class="hamburger" id="hamburger-menu" aria-label="Abrir menu" aria-expanded="false" type="button">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </header>

    <nav class="mobile-menu" id="mobile-menu">
      <ul>
        <li><%= link_to "InÃ­cio", root_path %></li>
        <li><%= link_to "Presentes", gifts_path %></li>
        <li><%= link_to "RSVP", new_rsvp_path %></li>
      </ul>
    </nav>

    <%= link_to "RSVP", new_rsvp_path, class: "btn btn-light floating-rsvp-btn" %>

    <% if flash[:notice] %><p class="flash notice"><%= flash[:notice] %></p><% end %>
    <% if flash[:alert] %><p class="flash alert"><%= flash[:alert] %></p><% end %>
    <%= yield %>

    <script>
      (function() {
        const button = document.getElementById('hamburger-menu');
        const menu = document.getElementById('mobile-menu');
        if (!button || !menu) return;

        button.addEventListener('click', function() {
          const isActive = menu.classList.toggle('active');
          button.setAttribute('aria-expanded', isActive ? 'true' : 'false');
        });
      })();
    </script>
  </body>
</html>
